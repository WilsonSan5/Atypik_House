{% extends 'base.html.twig' %}

{% block title %}Hello PaiementController!
{% endblock %}
{% block stylesheet %}{% endblock %}
{% block body %}

	<div class="container margin-top">
		<h1>Récapitulatif
		</h1>
		<table class="table col-5">
			<tbody class='col-5'>
				<tr>
					<th>Propriétaire</th>
					<td>{{ habitat.proprio }}</td>
				</tr>
				<tr>
					<th>Titre</th>
					<td>{{ habitat.titre }}</td>
				</tr>
				<tr>
					<th>Adresse</th>
					<td>{{ habitat.adresse }}</td>
				</tr>
				<tr>
					<th>Catégorie</th>
					<td>{{ habitat.categorie }}</td>
				</tr>
				<tr>
					<th>Prix/nuit</th>
					<td>{{ habitat.prix }} €</td>
				</tr>
			</tbody>
		</table>
		<p id="nomUser">{{ app.user.nom }}</p>
		<p id="prenomUser">{{ app.user.prenom }}</p>
		<p>Total à payer :
			<span id="prix">{{ habitat.prix }}</span>€</p>
		<div
			id="paiement">
			<!-- Display a payment form -->
			<form id="payment-form">
				<div
					id="link-authentication-element"><!--Stripe.js injects the Link Authentification Element-->
				</div>
				<div
					id="payment-element"><!--Stripe.js injects the Payment Element-->
				</div>
				<button id="submit" class='button'>
					<div class="spinner hidden" id="spinner"></div>
					<span id="button-text">Payer</span>
				</button>
				<div id="payment-message" class="hidden"></div>
			</form>
		</div>
	</div>
	<script type="text/javascript" src="https://js.stripe.com/v3/"></script>
	<script src='../../stripe/checkout.js'></script>
{% endblock %}
